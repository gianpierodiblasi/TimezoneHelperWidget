TW.Runtime.Widgets.timezonehelper=function(){var c=this;this.runtimeProperties=function(){return{needsDataLoadingAndError:!1}};this.renderHtml=function(){return'<div class="widget-content widget-timezonehelper" style="display:none;"></div>'};this.afterRender=function(){var a=c.getProperty("debugMode"),d=(new Date).getTimezoneOffset(),e=Intl.DateTimeFormat().resolvedOptions().timeZone;a&&console.log("TimeZoneHelper - browserTimeZoneOffset = "+d+", browserTimeZone = "+e);c.setProperty("browserTimeZoneOffset",
d);c.setProperty("browserTimeZone",e)};this.serviceInvoked=function(a){if(a.toLowerCase().startsWith("date")){a=parseInt(a.replace("Date","").replace("Evaluate",""));var d=c.getProperty("debugMode"),e=c.getProperty("externalTimeZoneOffset");d&&console.log("TimeZoneHelper - externalTimeZoneOffset = "+e);var b=c.getProperty("date"+a),f=c.getProperty("date"+a+"TimeZoneType"),g=c.getProperty("date"+a+"AddDays"),h=c.getProperty("date"+a+"IfUndefined");d&&console.log("TimeZoneHelper - date = "+b+", dateTimeZoneType = "+
f+", dateAddDays = "+g+", dateIfUndefined = "+h);if(b)b=new Date(b.getTime());else switch(h){case "nothing":f="";break;case "create":b=new Date;g=0;break;case "create_add":b=new Date}switch(f){case "b2t":b.setTime(b.getTime()+6E4*(b.getTimezoneOffset()+e+1440*g));break;case "t2b":b.setTime(b.getTime()-6E4*(b.getTimezoneOffset()+e))}d&&console.log("TimeZoneHelper - new date = "+b);c.setProperty("date"+a+"Evaluated",b);c.jqElement.triggerHandler("Date"+a+"Evaluated")}};this.updateProperty=function(a){this.setProperty(a.TargetProperty,
a.RawSinglePropertyValue)}};